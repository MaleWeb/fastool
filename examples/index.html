<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" id="viewport"
        content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>这是一个Ts+Rollup的打包模板-盲僧幼儿园出品</title>
    <script type="module" src="../dist/index.umd.js"></script>
</head>

<body>
    <div id="app">
        <h1 align="center">Hello 我是扫地盲僧!</h1>
        <p align="center">为了快速开发TS插件，我封装了一个简洁版的TS打包脚手架</p>
        <button id="set">set参数</button>
        <button id="get">get参数</button>
        <button id="clearCookie">清除cookie</button>
        <button id="scroll">滚动</button>
        <button id="fullscreen">fullscreen</button>
        <button id="unfullscreen">unfullscreen</button>
        <button id="param">param</button>
        <div style="height:800px"></div>
        <img src="./logo.svg" />
        <!-- Target -->
        <!-- <input id="foo" value="https://github.com/zenorocha/clipboard.js.git" /> -->

        <!-- Trigger -->
        <button class="btn" data-clipboard-target="#foo">
            <!-- <img src="assets/clippy.svg" alt="Copy to clipboard" /> -->
        </button>
    </div>
</body>
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function () {
        const { observeProxy, getCookie, setCookie, clearCookie,
            delCookie,
            smoothScroll,
            getClientHeight,
            getClientWidth,
            toFullScreen,
            exitFullscreen,
            paramsJoinUrl,
            getBaseUrl,
            getUrlDomain,
            isSupportCamera,
            getDistance,
            Print,
            keyCode,
            start,
            dayJs,
            log,
            copyJs,
            importPlugin
        } = fastool
        const obj = { name: '爱神的箭卡萨丁', age: 34, lib: { home: 'index' } }

        async function main() {
            const myModule = await importPlugin('https://cdn.bootcdn.net/ajax/libs/vue/3.2.47/vue.esm-browser.js', 'vue');
            console.log(myModule, '插件加载模块');

        }
        main();
        function handle(val) {
            console.log(val, '回调函数')
        }
        let state = observeProxy(obj, handle)
        document.getElementById('param').onclick = () => {
            copyJs().then(res => {
                console.log(res, 'dasasdasd')
                let test = new ClipboardJS('.btn');
                console.log(test, '插件')
                test.on('success', function (e) {
                    console.info('Action:', e.action);
                    console.info('Text:', e.text);
                    console.info('Trigger:', e.trigger);
                    e.clearSelection();
                });

                test.on('error', function (e) {
                    console.error('Action:', e.action);
                    console.error('Trigger:', e.trigger);
                });
            })
        }
        document.getElementById('set').onclick = () => {
            state.age = 32
            console.log(obj, '原数组')
            console.log(state, '原数组')
        }
        document.getElementById('get').onclick = () => {
            console.log(state.lib.home)
            delete state.age
        }

        document.getElementById('scroll').onclick = () => {
            let height = getClientWidth()
            alert(height)
        }
        document.getElementById('fullscreen').onclick = () => {
            toFullScreen()
        }
        document.getElementById('unfullscreen').onclick = () => {
            exitFullscreen()
        }



    });
</script>
<style>
    body {
        background: rgb(15 23 42);
        color: #fff;
    }
</style>

</html>